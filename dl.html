<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Heart Rate</title>		
		<link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png">
		<link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
		<link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
		<link rel="manifest" href="/favicon/site.webmanifest">
		<link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#db2b30">
		<link rel="shortcut icon" href="/favicon/favicon.ico">
		<meta name="msapplication-TileColor" content="#2d2d2d">
		<meta name="msapplication-config" content="/favicon/browserconfig.xml">
		<meta name="theme-color" content="#2d2d2d">
		<script type="text/javascript">
			(function(e, t) {
				var n = {
					_q: [],
					_iq: {}
				};
				var r = t.createElement("script");
				r.type = "text/javascript";
				r.async = true;
				r.src = "https://cdn.amplitude.com/libs/amplitude-4.5.2-min.gz.js";
				r.integrity = "sha384-f1maK8oMrCMNEWGGg3Hx3dMTOQBbXr4e1ZIjB/J0TcgJx5UeE0g5S5PM5BbWPe4E";
				r.crossOrigin = "anonymous";
				r.onload = function() {
					e.amplitude.runQueuedFunctions()
				};

				var i = t.getElementsByTagName("script")[0];
				i.parentNode.insertBefore(r, i);
				function s(e, t) {
					e.prototype[t] = function() {
						this._q.push([t].concat(Array.prototype.slice.call(arguments, 0)));
						return this
					}
				}
				var d = ["init", "logEvent"];
				function v(e) {
					function t(t) {
						e[t] = function() {
							e._q.push([t].concat(Array.prototype.slice.call(arguments, 0)))
						}
					}
					for (var n = 0; n < d.length; n++) {
						t(d[n])
					}
				}
				v(n);
				n.getInstance = function(e) {
					e = (!e || e.length === 0 ? "$default_instance" : e).toLowerCase();
					if (!n._iq.hasOwnProperty(e)) {
						n._iq[e] = {
							_q: []
						};
						v(n._iq[e])
					}
					return n._iq[e]
				};
				e.amplitude = n
			})(window, document);

			var a = amplitude.getInstance();

			var k = "3db74f59a9db3630532afdf4356adebc";
			if (location.hostname === "localhost" || location.hostname === "127.0.0.1" || location.hostname === "") {
				k = "2565032ed2248c60d88c5d7be9e3148a";
			}
			a.init(k, null, {includeReferrer: true});
			
			var p = {s: (new URL(window.location.href)).searchParams.get('s')};
			var isIOS = !!navigator.platform && /iPad|iPhone|iPod/.test(navigator.platform);
			var isAndroid = !!navigator.userAgent && /(android)/i.test(navigator.userAgent);
			
			function copyToClipboard(s) {
				var el = document.createElement('textarea');
				el.value = s;
				document.body.appendChild(el);
				el.select();
				document.execCommand('copy');
				document.body.removeChild(el);
			}
			
			if (!isIOS && !isAndroid) {
				var head = document.getElementsByTagName('head')[0];
				var s = document.createElement('script');
				s.src = 'https://cdn.jsdelivr.net/npm/popper.js@1.15.0/dist/umd/popper.min.js';
				s.integrity = 'sha384-L2pyEeut/H3mtgCBaUNw7KWzp5n9+4pDQiExs933/5QfaTh8YStYFFkOzSoXjlTb';
				s.crossOrigin = "anonymous";
				s.async = true;
				head.appendChild(s);
				s = document.createElement('script');
				s.src = 'https://cdn.jsdelivr.net/npm/tippy.js@4.3.4/umd/index.all.min.js';
				s.integrity = "sha384-jdlJ1MoU0LrYStK51EBb7UvXaZ2ukMt+8tmhzZfSUilURo7yUh+IjJt0nqFjHapI";
				s.crossOrigin= "anonymous";
				s.async = true;
				head.appendChild(s);
				document.addEventListener('DOMContentLoaded', function() {
					Array.prototype.forEach.call(document.getElementsByTagName('a'), function(a) {
						if (a.href.startsWith('mailto:')) {
							a.removeAttribute('href');
							a.style.cursor = 'pointer';
							a.setAttribute('data-tippy', 'Click to copy!');
							a.setAttribute('data-tippy-arrow', 'true');
							a.setAttribute('data-tippy-followcursor', 'true');
							a.setAttribute('data-tippy-delay', '[200,0]');
							a.addEventListener('click', function(e) {
								copyToClipboard(e.target.innerText);
							});
						}
					});
				});
			}
			
			function goToAppStore() {
//				window.location='https://itunes.apple.com/app/id1457939511';
			}
			
			a.logEvent("DL Page View", p, function() {
				if (isIOS) {
					goToAppStore();
				}
			});
			
			function clickedAppStoreBadge() {
				amplitude.getInstance().logEvent('Clicked App Store Badge (DL)', p, function() {
					if (isIOS) { // iOS displays an "address is invalid" error unless you reload.
						location.reload();
					} else {
						goToAppStore();
					}
				});
			}
			
			function submitFormNoRedirect(form) {
				var sendButton = form.getElementsByTagName('button')[0];
				var sendButtonInner = sendButton.innerHTML;
				sendButton.innerHTML = 'Sending...';
				var xhr = new XMLHttpRequest();
				xhr.onreadystatechange = function () {
					if (xhr.readyState === 4) {
						sendButton.innerHTML = 'Sent!';
						setTimeout(function() {
							sendButton.innerHTML = sendButtonInner;
						}, 2000);
					}
				};
				xhr.open(form.method, form.action, true);
				xhr.send(new FormData(form));
				return false;
			}
		</script>
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no" />
		<link href="https://fonts.googleapis.com/css?family=Lato:300,400" rel="stylesheet">
		<style>
			body {font-family: 'Lato'; font-weight: 300; text-align: center}
			p, footer, figcaption, input, button, textarea {color: white; font-family: 'Lato', sans-serif; font-size: 18px; text-shadow: 0px 0px 1em #111111}
			input, textarea, button {outline-color: #DB2B30;}
			input, textarea, button {border-radius: 6px; border-width: 2px; background-color: black; font-size: 12px; border-style: solid}
			input, textarea { border-color: rgba(219,43,48, 0.3); height: 2em; padding: 2px 0px 2px 8px}
			button {font-weight: 300; color: #D0D0D0; border-color: rgba(219,43,48, 0.4); height: 2.5em; padding: 2px 8px; cursor: pointer}
			form > span {font-size: 12px; color: #D0D0D0; padding-bottom: 14px; line-height: 2em}
			a {text-decoration: none; color: white}
			::selection {background-color:#DB2B30;}
			/* Footer */
			html, body {height: 100%; margin: 0px}
			body {display: flex; flex-direction: column; justify-content: space-between}
			main {flex: 1}
		</style>
		<meta name="apple-itunes-app" content="app-id=1457939511">
	</head>
	<body style="background-color: rgb(24,24,24); margin:0px">
		<main>
			<a href="javascript: if(isIOS) { location.reload();}" style="display: inline-block">
				<figure>
					<img src="/appIcon.svg" style="height:160px; display: block; margin-bottom:8px; margin-left: auto; margin-right: auto; filter: drop-shadow(0px 0px 8px #111111); ">
					<figcaption style="font-size: 24px; font-weight: 400; text-align: center">Hands-Free<br/>Heart Rate</figcaption>
				</figure>
			</a>
			<div style="margin: 0 auto 0 auto; padding: 16px; max-width: 400px;">
				<p style="font-size: 20px; margin-top: ">Measure your pulse with a look at your phone!</p>
				
				<p style="color: #E6E6E6">Fast, free, and simple to use.<br/>No blinding flash or smudged camera lens.</p>
				
				<div style="padding-top: 16px; padding-bottom: 18px">
					<a href="javascript:clickedAppStoreBadge();">
<!--
						<img src="/appStoreBadge.svg" width="125px" style="filter: drop-shadow(0px 0px 10px #DB2B30);"><br/>
						<div style="font-size: 12px; color: #F0F0F0; padding-top: 0.5em">Available for iPhone, iPad, and iPod touch.<br/>Downloads in less than a second.</div>
-->
						<span style="font-size: 12px; color: #D0D0D0">Coming soon for iPhone, iPad, and iPod touch.</span>
					</a>
				</div>
				
				<form action="https://docs.google.com/forms/d/e/1FAIpQLSeDHU3IkOkgG7cnlT5Jmv9jalijjHIaZ1TCxsEEwCPgpoeKHA/formResponse" method="post" onsubmit="return submitFormNoRedirect(this)">
					<span>Email me a reminder later.</span><br/>
					<input type="email" name="entry.1670508223" autocomplete="email" placeholder="Email" required>
					<button type="submit">iOS Reminder</button>
				</form>
				
				<form action="https://docs.google.com/forms/d/e/1FAIpQLSfuhlZnkZG-Ctpk7jUyueoaRzL0VorktDU3zRY1yPZ2m-L7Vg/formResponse" method="post" onsubmit="return submitFormNoRedirect(this)" style="padding: 0.25em 0px">
					<span>Coming soon for Android. Sign up to be notified.</span><br/>
					<input type="email" name="entry.1670508223" autocomplete="email" placeholder="Email" required>
					<button type="submit">Android Sign Up</button>
				</form>

				<img src="/Web-iPhone-800.png" srcset="/Web-iPhone-400.png 400w, /Web-iPhone-800.png 800w, /Web-iPhone-1200.png 1200w" style="width: 100%; padding-top: 1.5em">

				<p style="font-size: 18px; margin-bottom: 0px">Works by detecting micro-blushes of the face, imperceptible to the eye.</p>

				<p style="font-size: 14px; color: #E6E6E6; margin-top: 8px">Interested in this tech for something else?<br/>Send us a quick email. We'd love to make it easy for you.</p>

				<p style="font-size: 16px">Suggestions? Questions? Feedback?<br/>Email us at <a href="mailto:heartrate@hedronvision.com?subject=Hello,%20Hedron Heart Rate" target="_blank">HeartRate@HedronVision.com</a></p>

				<p style="font-size: 12px; color:#D0D0D0; margin-top: 24px; margin-bottom: 0px;">[Intended for fitness, not medical use.]</p>
			</div>
		</main>
		<footer>
			<p style="margin-bottom: 0"><span style="font-size: 12px">built by </span>
			<a href="https://hedronvision.com" style="font-size: 24px; font-variant: small-caps">Hedron Vision</a>
			<!-- If you're reading this, you should consider working with us. Reach out at joinus@hedronvision.com! -->
			<object data="/cubeAnimated.svg" type="image/svg+xml" style="height: 24px; width: 24px; vertical-align: text-bottom; filter: drop-shadow(0px 0px 4px #111111); background-image: url(/cube.svg); visibility: hidden" onload="
				this.style.visibility = '';

				var smil = !!document.createElementNS && /SVGAnimate/.test((document.createElementNS('http://www.w3.org/2000/svg', 'animate')).toString());
				if (!smil) {
					this.data = '';
					return;
				}

				var a = this.contentDocument.children[0];
				a.pauseAnimations();
				this.timerPause = function() {
					setTimeout(this.pause.bind(this), 2983);
				};
				this.pause = function() {
					if (this.mouseIsOver) {
						this.timerPause();
					} else {
						a.pauseAnimations();
					}
				}
				this.style.backgroundImage = null;
				this.play = function() {
					if (a.animationsPaused()) {
						a.setCurrentTime(0);
						a.unpauseAnimations();
						this.timerPause();
					}
				};
				document.onvisibilitychange = function() {
					if (document.visibilityState == 'hidden') {
						a.setCurrentTime(0);
					} else {
						a.pauseAnimations();
					}
				};
				setTimeout(this.play.bind(this), 500);
				a.onmousedown = this.onmouseover.bind(this);
				a.onmouseup = this.onmouseout.bind(this);"
				onmouseover="this.mouseIsOver=true; if (this.play) this.play();"
				onmouseout="this.mouseIsOver=false;">
			</object>
			</p>
			<p style="margin-top: 8px; font-size: 14px"><a href="/privacy.html">Privacy</a> | <a href="mailto:heartrate@hedronvision.com?subject=Hello,%20Hedron Heart Rate" target="_blank">HeartRate@HedronVision.com</a></p>
		</footer>
		<div style="position: fixed; bottom: 0; right: 10px; background-color: rgb(87,17,19); border-top-left-radius: 6px; border-top-right-radius: 6px; filter: drop-shadow(0px 0px 8px #111111); text-align: center" onmouseenter="this.open=true; this.getElementsByTagName('form')[0].style.display = 'inline';" onmouseleave="this.open=false; this.getElementsByTagName('form')[0].style.display = 'none';" onclick="if(this.open) this.onmouseleave(); else this.onmouseenter();">
			<img src="/message.svg" style="width: 24px; margin: 6px 6px 1px 6px;">
			<form onsubmit="return submitFormNoRedirect(this)" action="https://docs.google.com/forms/d/e/1FAIpQLSdU9F-OxTwt1NxwkgRGXvjVfjF4BUqLiHUDYj3THUujYeAniw/formResponse" method="post" style="display: none" onclick="event.stopPropagation()">
				<textarea name="entry.1792109911" placeholder="How can we help?" required style="resize: none; width: 92%; height: 80px"></textarea><br/>
				<input type="email" name="entry.1670508223" autocomplete="email" placeholder="Email (optional)">
				<button type="submit">Send</button>
			</form>
		</div>
	</body>
</html>
